{"remainingRequest":"D:\\project\\study\\node_modules\\babel-loader\\lib\\index.js!D:\\project\\study\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\project\\study\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\project\\study\\src\\views\\personalInfo\\PersonalInfo.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\project\\study\\src\\views\\personalInfo\\PersonalInfo.vue","mtime":1624415694315},{"path":"D:\\project\\study\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\study\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\project\\study\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\project\\study\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L3Byb2plY3Qvc3R1ZHkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyByZWFjdGl2ZSB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgeyBnZXQgfSBmcm9tICcuLi8uLi91dGlscy9yZXF1ZXN0JzsKaW1wb3J0IERvY2tlciBmcm9tICcuLi8uLi9jb21wb25lbnRzL0RvY2tlcic7Cgp2YXIgdXNlVXNlckVmZmVjdCA9IGZ1bmN0aW9uIHVzZVVzZXJFZmZlY3QoKSB7CiAgdmFyIHVzZXJJbmZvID0gcmVhY3RpdmUoewogICAgX2lkOiAnJywKICAgIHVzZXJuYW1lOiAnJwogIH0pOwoKICB2YXIgZ2V0VXNlckluZm8gPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciByZXN1bHQsIF9yZXN1bHQkZGF0YSwgX2lkLCB1c2VybmFtZTsKCiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gZ2V0KCcvYXBpL3VzZXIvaW5mbycpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgIGlmICgocmVzdWx0ID09PSBudWxsIHx8IHJlc3VsdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzdWx0LmVycm5vKSA9PT0gMCAmJiByZXN1bHQgIT09IG51bGwgJiYgcmVzdWx0ICE9PSB2b2lkIDAgJiYgcmVzdWx0LmRhdGEpIHsKICAgICAgICAgICAgICAgIF9yZXN1bHQkZGF0YSA9IHJlc3VsdC5kYXRhLCBfaWQgPSBfcmVzdWx0JGRhdGEuX2lkLCB1c2VybmFtZSA9IF9yZXN1bHQkZGF0YS51c2VybmFtZTsKICAgICAgICAgICAgICAgIHVzZXJJbmZvLl9pZCA9IF9pZCB8fCAnJzsKICAgICAgICAgICAgICAgIHVzZXJJbmZvLnVzZXJuYW1lID0gdXNlcm5hbWUgfHwgJyc7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKTsKCiAgICByZXR1cm4gZnVuY3Rpb24gZ2V0VXNlckluZm8oKSB7CiAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9OwogIH0oKTsKCiAgZ2V0VXNlckluZm8oKTsKICByZXR1cm4gdXNlckluZm87Cn07CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1BlcnNvbmFsSW5mbycsCiAgY29tcG9uZW50czogewogICAgRG9ja2VyOiBEb2NrZXIKICB9LAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cCgpIHsKICAgIHZhciByb3V0ZXIgPSB1c2VSb3V0ZXIoKTsKCiAgICB2YXIgaGFuZGxlTG9nb3V0ID0gZnVuY3Rpb24gaGFuZGxlTG9nb3V0KCkgewogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnaXNMb2dpbicpOwogICAgICByb3V0ZXIucmVwbGFjZSh7CiAgICAgICAgbmFtZTogJ0xvZ2luJwogICAgICB9KTsKICAgIH07CgogICAgdmFyIGhhbmRsZUFkZHJlc3NDbGljayA9IGZ1bmN0aW9uIGhhbmRsZUFkZHJlc3NDbGljaygpIHsKICAgICAgcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICdNeUFkZHJlc3NMaXN0JwogICAgICB9KTsKICAgIH07CgogICAgdmFyIHVzZXJJbmZvID0gdXNlVXNlckVmZmVjdCgpOwogICAgcmV0dXJuIHsKICAgICAgaGFuZGxlTG9nb3V0OiBoYW5kbGVMb2dvdXQsCiAgICAgIGhhbmRsZUFkZHJlc3NDbGljazogaGFuZGxlQWRkcmVzc0NsaWNrLAogICAgICB1c2VySW5mbzogdXNlckluZm8KICAgIH07CiAgfQp9Ow=="},{"version":3,"sources":["D:\\project\\study\\src\\views\\personalInfo\\PersonalInfo.vue"],"names":[],"mappings":";;;;AAyBA,SAAS,QAAT,QAAyB,KAAzB;AACA,SAAS,SAAT,QAA0B,YAA1B;AACA,SAAS,GAAT,QAAoB,qBAApB;AACA,OAAO,MAAP,MAAmB,yBAAnB;;AAEA,IAAM,aAAY,GAAI,SAAhB,aAAgB,GAAM;AAC1B,MAAM,QAAO,GAAI,QAAQ,CAAC;AAAE,IAAA,GAAG,EAAE,EAAP;AAAW,IAAA,QAAQ,EAAE;AAArB,GAAD,CAAzB;;AACC,MAAM,WAAU;AAAA,uEAAI;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACE,GAAG,CAAC,gBAAD,CADL;;AAAA;AACb,cAAA,MADa;;AAEnB,kBAAG,CAAA,MAAM,SAAN,IAAA,MAAM,WAAN,YAAA,MAAM,CAAE,KAAR,MAAkB,CAAlB,IAAuB,MAAvB,aAAuB,MAAvB,eAAuB,MAAM,CAAE,IAAlC,EAAwC;AAAA,+BACZ,MAAM,CAAC,IADK,EAC9B,GAD8B,gBAC9B,GAD8B,EACzB,QADyB,gBACzB,QADyB;AAEtC,gBAAA,QAAQ,CAAC,GAAT,GAAe,GAAE,IAAK,EAAtB;AACA,gBAAA,QAAQ,CAAC,QAAT,GAAoB,QAAO,IAAK,EAAhC;AACF;;AANmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAJ;;AAAA,oBAAV,WAAU;AAAA;AAAA;AAAA,KAAhB;;AAQD,EAAA,WAAW;AACX,SAAO,QAAP;AACF,CAZA;;AAcA,eAAe;AACb,EAAA,IAAI,EAAE,cADO;AAEb,EAAA,UAAU,EAAE;AAAE,IAAA,MAAK,EAAL;AAAF,GAFC;AAGb,EAAA,KAHa,mBAGL;AACN,QAAM,MAAK,GAAI,SAAS,EAAxB;;AACA,QAAM,YAAW,GAAI,SAAf,YAAe,GAAM;AACzB,MAAA,YAAY,CAAC,UAAb,CAAwB,SAAxB;AACA,MAAA,MAAM,CAAC,OAAP,CAAe;AAAE,QAAA,IAAI,EAAE;AAAR,OAAf;AACF,KAHA;;AAIA,QAAM,kBAAiB,GAAI,SAArB,kBAAqB,GAAM;AAC/B,MAAA,MAAM,CAAC,IAAP,CAAY;AAAE,QAAA,IAAI,EAAE;AAAR,OAAZ;AACF,KAFA;;AAGA,QAAM,QAAO,GAAI,aAAa,EAA9B;AACA,WAAO;AAAE,MAAA,YAAY,EAAZ,YAAF;AAAgB,MAAA,kBAAkB,EAAlB,kBAAhB;AAAoC,MAAA,QAAO,EAAP;AAApC,KAAP;AACF;AAda,CAAf","sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <div class=\"header\">\n      <div class=\"header__info\">\n        <div class=\"header__info__user\">{{userInfo.username}}</div>\n        <div class=\"header__info__id\">ID:{{userInfo._id}}</div>\n      </div>\n      <img\n        class=\"header__avatar\"\n        src=\"http://www.dell-lee.com/imgs/avatar.jpg\"\n      />\n    </div>\n    <div class=\"list\">\n      <div class=\"list__item\" @click=\"handleAddressClick\">\n        <div class=\"list__item__icon iconfont\">&#xe617;</div>\n        <div class=\"list__item__test\">我的地址</div>\n        <div class=\"list__item__arrow iconfont\">&#xe6f2;</div>\n      </div>\n    </div>\n    <div class=\"logout\" @click=\"handleLogout\">退出登陆</div>\n  </div>\n  <Docker :currentIndex=\"3\"/>\n</template>\n\n<script>\nimport { reactive } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { get } from '../../utils/request'\nimport Docker from '../../components/Docker'\n\nconst useUserEffect = () => {\n  const userInfo = reactive({ _id: '', username: '' })\n   const getUserInfo = async () => {\n    const result = await get('/api/user/info')\n    if(result?.errno === 0 && result?.data) {\n      const { _id, username } = result.data\n      userInfo._id = _id || ''\n      userInfo.username = username || ''\n    }\n  }\n  getUserInfo()\n  return userInfo\n}\n\nexport default {\n  name: 'PersonalInfo',\n  components: { Docker },\n  setup() {\n    const router = useRouter()\n    const handleLogout = () => {\n      localStorage.removeItem('isLogin')\n      router.replace({ name: 'Login'})\n    }\n    const handleAddressClick = () => {\n      router.push({ name: 'MyAddressList'})\n    }\n    const userInfo = useUserEffect()\n    return { handleLogout, handleAddressClick, userInfo }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../style/viriables.scss';\n.wrapper {\n  overflow-y: auto;\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: .5rem;\n  right: 0;\n  background: $dark-bgColor;\n}\n.header {\n  position: relative;\n  height: 1.5rem;\n  background-image: linear-gradient(239deg, #3A6FF3 0%, #50C7FB 100%);\n  padding-top: .4rem;\n  &__info {\n    margin: .3rem .18rem 0 .18rem;\n    padding-top: .46rem;\n    height: .66rem;\n    background: #FFF;\n    border-radius: .08rem;\n    &__user {\n      font-size: .24rem;\n      color: #262628;\n      text-align: center;\n      line-height: .36rem;\n    }\n    &__id {\n      margin-top: .04rem;\n      font-size: .14rem;\n      color: #C1C0C9;\n      text-align: center;\n    }\n  }\n  &__avatar {\n    position: absolute;\n    left: 50%;\n    top: .2rem;\n    transform: translateX(-50%);\n    width: .94rem;\n    height: .94rem;\n    border-radius: 50%;\n  }\n}\n.list {\n  margin: .16rem .18rem 0 .18rem;\n  background: $bgColor;\n  box-shadow: 0 .08rem .16rem 0 rgba(0, 0, 0, .08);\n  border-radius: .08rem;\n  &__item {\n    display: flex;\n    padding: .2rem;\n    line-height: .22rem;\n    font-size: .14rem;\n    color: #262626;\n    &__icon {\n      margin-right: .12rem;\n      width: .22rem;\n      height: .22rem;\n      background: #32C5FF;\n      border-radius: .08rem;\n      text-align: center;\n      font-weight: bold;\n      color: $bgColor;\n    }\n    &__test {\n      flex: 1;\n    }\n    &__arrow {\n      width: .2rem;\n      transform: rotate(180deg);\n      font-weight: bold;\n      color: #C2C4CA;\n    }\n  }\n}\n.logout {\n  margin: .18rem;\n  line-height: .32rem;\n  background: $btn-bgColor;\n  color: $bgColor;\n  text-align: center;\n  border-radius: .04rem;\n}\n</style>"],"sourceRoot":""}]}